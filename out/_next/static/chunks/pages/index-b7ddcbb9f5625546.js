(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(408)}])},150:function(e,s,n){"use strict";var r=n(5893);n(7294);var t=n(4184),a=n.n(t);n(1664),s.Z=e=>{let{classname:s,children:n,click:t,type:i}=e,l=a()({btn:!0,btn__blue:"blue"===s,btn__red:"red"===s,btn__green:"green"===s,btn__tertiary:"tertiary"===s,btn__white:"white"===s});return(0,r.jsx)("button",{className:l,type:i,onClick:t,children:n})}},297:function(e,s,n){"use strict";var r=n(5893);n(7294);var t=n(4184),a=n.n(t);s.Z=e=>{var s;let{label:n,name:t,placeholder:i,register:l,errors:o}=e;return(0,r.jsxs)("div",{className:"login-form__element",children:[(0,r.jsx)("label",{className:a()({"error-label":o[t]}),children:n}),(0,r.jsx)("input",{...l(t),placeholder:i,className:a()("styled-input info-input",{"error-border":o[t]}),type:"Password"===t||"Password2"===t?"password":"text"}),o[t]&&(0,r.jsx)("span",{className:"info-input__error",children:null===(s=o[t])||void 0===s?void 0:s.message})]})}},3776:function(e,s,n){"use strict";var r=n(5893),t=n(1163);s.Z=()=>{let e=(0,t.useRouter)();return(0,r.jsxs)("div",{className:"progress-bar",children:[(0,r.jsx)("input",{className:"progress-icon",type:"radio",value:1,checked:"/user-info"===e.pathname,readOnly:!0}),(0,r.jsx)("input",{className:"progress-icon",type:"radio",value:2,checked:"/user-info/preferences"===e.pathname,readOnly:!0}),(0,r.jsx)("input",{className:"progress-icon",type:"radio",value:3,checked:"/user-info/indiferencies"===e.pathname,readOnly:!0})]})}},2274:function(e,s,n){"use strict";var r=n(5893),t=n(5675),a=n.n(t),i=n(1163),l=n(6154);s.Z=()=>{let e=(0,i.useRouter)(),s=async s=>{s.preventDefault();try{await l.Z.post("/api/userInfoDone",{userInfo:!0}),e.push("/app")}catch(e){console.error(e)}};return(0,r.jsxs)("div",{className:"login-container login-fix",children:[(0,r.jsx)("div",{className:"green-logo-container",children:(0,r.jsx)(a(),{alt:"logo-green-lg",src:"/logo-lg-green.svg",width:247,height:239})}),(0,r.jsx)("div",{className:"text-container",children:(0,r.jsx)("h1",{children:"You are all set!"})}),(0,r.jsx)("div",{className:"btn-container",children:(0,r.jsx)("button",{className:"btn btn__green",type:"submit",onClick:s,children:"Submit"})})]})}},6139:function(e,s,n){"use strict";var r=n(5893),t=n(6486),a=n.n(t),i=n(1163),l=n(150),o=n(297),c=n(1664),d=n.n(c),u=n(7536),h=n(5323),m=n(6890),p=n(7533),x=n(3583);s.Z=()=>{let e=(0,i.useRouter)(),[s]=(0,m.YA)(),{register:n,handleSubmit:t,setError:c,formState:{errors:f}}=(0,u.cI)({resolver:(0,p.X)(x.M8)}),j=(s,n)=>{"submit"===s?console.log("Form submitted"):e.push(n)};console.log(f);let g=async n=>{try{let r=await s({email:n.Login,password:n.Password}).unwrap();r.user.userInfo?e.push("/app"):e.push("/user-info")}catch(e){e.data?"Password incorrect"===e.data.message?c("Password",{message:e.data.message},"server"):c("Login",{message:e.data.message},"server"):c("Login",{message:"Request failed"},"server")}};return(0,r.jsxs)("div",{className:"login-container",children:[(0,r.jsxs)("div",{className:"text-container",children:[(0,r.jsx)("h1",{children:"Breakfast, Lunch & Dinner "}),(0,r.jsx)("h4",{children:"Worlds first AI powered personal meal planner"})]}),(0,r.jsxs)("form",{className:"login-form",onSubmit:t(g),children:[(0,r.jsxs)("div",{className:"login-form__element__mt",children:[a().map(h.AA,e=>{let{label:s,name:t,placeholder:a}=e;return(0,r.jsx)(o.Z,{label:s,name:t,placeholder:a,errors:f,register:n},t)}),(0,r.jsx)("div",{className:"forgot-link",children:(0,r.jsx)(d(),{href:"/auth/password-reset",children:"Forgot password?"})})]}),(0,r.jsxs)("div",{className:"btn-container",children:[(0,r.jsx)(l.Z,{classname:"blue",type:"submit",children:"Submit"}),a().map(h.j7,e=>{let{content:s,classname:n,route:t,type:a}=e;return(0,r.jsx)(l.Z,{classname:n,click:()=>j(a,t),type:a,children:s},s)})]})]})]})}},2063:function(e,s,n){"use strict";n.d(s,{Z:function(){return u}});var r=n(5893),t=n(7294),a=n(1248),i=n(6890),l=n(1163),o=n(9432);n(160);let c=0;var d=()=>{let[e,s]=(0,t.useState)(Array(6).fill("")),[n,d]=(0,t.useState)(0),[u,h]=(0,t.useState)(!1),[m]=(0,i.uY)(),p=(0,t.useRef)(),x=(0,a.v9)(e=>e.user),f=new Date(x.otpExpires),[j]=(0,i.S3)(),g=(0,l.useRouter)(),v=async s=>{if(s.preventDefault(),e.every(e=>""!==e)){console.log("All inputs are populated, submit the form");try{let s=await m({email:x.email,otp:e.join("")}).unwrap();console.log(s),g.push("/auth")}catch(e){console.error("OTP failed:",e)}}else console.log("Not all inputs are populated, show an error"),h(!0)},b=async()=>{try{let e=await j({email:x.email}).unwrap();console.log("A new OTP has been sent:",e)}catch(e){console.error("Failed to resend OTP:",e)}},N=n=>{let r=n.target.value,t=[...e];t[c]=r.substring(r.length-1),r?d(c+1):d(c-1),s(t)},_=(e,s)=>{c=s,"Backspace"===e.key&&d(c-1)};return(0,t.useEffect)(()=>{p.current&&p.current.focus()},[n]),(0,r.jsxs)("form",{onSubmit:v,children:[(0,r.jsxs)("div",{className:"otp-field",children:[(0,r.jsxs)("div",{className:"otp-container ",children:[(0,r.jsx)("label",{htmlFor:"otp-input",children:"Verificaition Code:"}),(0,r.jsxs)("div",{className:"cell-container",children:[e.map((s,t)=>(0,r.jsx)("div",{children:(0,r.jsx)("input",{onKeyDown:e=>_(e,t),value:e[t],ref:t===n?p:null,onChange:N,type:"number",className:"otp-input label-text"})},t)),!e.every(e=>""!==e)&&u&&(0,r.jsx)("span",{className:"info-input__error",children:"Fill out all the fields!"})]})]}),(0,r.jsx)("div",{className:"nocode-link",children:(0,r.jsx)(o.ZP,{date:f,renderer:e=>{let{hours:s,minutes:n,seconds:t,completed:a}=e;return!a&&(t||n)?(0,r.jsxs)("p",{className:"otp-field__timer",children:["Time remaining",(0,r.jsxs)("span",{className:"otp-field__timer--time",children:[n,":"+t.toString().padStart(2,"0")]})]}):(0,r.jsx)("button",{type:"button",className:"otp-field__timer--button",onClick:b,children:(0,r.jsx)("p",{className:"otp-field__timer",children:"Resend Code"})})}})})]}),(0,r.jsx)("div",{className:"btn-container",children:(0,r.jsx)("button",{className:"btn btn__white",type:"submit",children:"Submit"})})]})},u=()=>(0,r.jsxs)("div",{className:"login-container",children:[(0,r.jsxs)("div",{className:"text-container",children:[(0,r.jsx)("h1",{children:"Verification"}),(0,r.jsx)("h4",{children:"Enter your code from E-Mail"})]}),(0,r.jsx)(d,{})]})},6729:function(e,s,n){"use strict";var r=n(5893),t=n(7294),a=n(7971),i=n(1163),l=n(1248),o=n(5323),c=n(4970),d=n(6924);s.Z=()=>{let[e,s]=(0,t.useState)(!1),n=(0,l.v9)(e=>e.options.indifference),u=n.map(e=>e.label),h=(0,l.I0)(),m=(0,i.useRouter)();return(0,t.useEffect)(()=>{h((0,d.C)())},[]),(0,r.jsxs)("div",{className:"login-container",children:[(0,r.jsxs)("div",{className:"text-container",children:[(0,r.jsx)("h1",{children:"Tell us things you donâ€™t like"}),(0,r.jsx)("h4",{children:"Share us products that you don't like, so you won't see them!"})]}),(0,r.jsx)("div",{className:"preference-container ",children:(0,r.jsx)(a.Z,{submitted:e,red:!0,loadOptions:o.Zd})}),(0,r.jsx)("div",{className:"btn-container",children:(0,r.jsx)("button",{onClick:()=>{n.length<5?s(!0):(m.push("/user-info/done"),h((0,c.rd)(u)),console.log(u))},className:"btn btn__red",type:"submit",children:"Next"})})]})}},6589:function(e,s,n){"use strict";var r=n(5893),t=n(7294),a=n(7971),i=n(1163),l=n(6924),o=n(5323),c=n(4970),d=n(1248);s.Z=()=>{let[e,s]=(0,t.useState)(!1),n=(0,d.v9)(e=>e.options.preference),u=n.map(e=>e.label),h=(0,d.I0)();(0,t.useEffect)(()=>{h((0,l.C)())},[]);let m=(0,i.useRouter)();return(0,r.jsxs)("div",{className:"login-container",children:[(0,r.jsxs)("div",{className:"text-container",children:[(0,r.jsx)("h1",{children:"Tell us your preferences!"}),(0,r.jsx)("h4",{children:"Create a list of products you like the most:"})]}),(0,r.jsxs)("div",{className:"preference-container ",children:[(0,r.jsx)(a.Z,{blue:!0,loadOptions:o.TI,submitted:e}),(0,r.jsx)("div",{className:"btn-container",children:(0,r.jsx)("button",{onClick:()=>{n.length<5?s(!0):(h((0,c.HP)(u)),console.log(u),m.push("/user-info/indiferencies"))},className:"btn btn__blue",type:"submit",children:"Next"})})]})]})}},7971:function(e,s,n){"use strict";n.d(s,{Z:function(){return h}});var r=n(5893),t=n(7294);n(3935);var a=n(5675),i=n.n(a),l=n(4184),o=n.n(l),c=n(1248),d=n(981),u=n(9823),h=e=>{let s,{loadOptions:n,red:a,blue:l,submitted:h}=e,[m,p]=(0,t.useState)(),x=(0,c.I0)();console.log(s),l?s=(0,c.v9)(e=>e.options.preference):a&&(s=(0,c.v9)(e=>e.options.indifference));let f=o()({"options-list__container--red":a,"options-list__container--blue":l}),j=e=>{console.log(e),l?x((0,u.QG)(e)):a&&x((0,u.nC)(e))};return(0,r.jsxs)("div",{className:"preference-selection",children:[(0,r.jsxs)("div",{className:"login-form__element margin-0",children:[(0,r.jsx)("label",{htmlFor:"select",children:"Search:"}),(0,r.jsx)(d.Z,{heightFix:!0,options:n,value:m,onChange:e=>{l?x((0,u.Tx)(e)):a&&x((0,u.UC)(e))}}),s.length<5&&h&&(0,r.jsx)("span",{className:"info-input__error",children:"Add at least 5 options!"})]}),(0,r.jsxs)("div",{className:"login-form__element",children:[(0,r.jsx)("label",{htmlFor:"async select",children:"Selected Options"}),(0,r.jsx)("ul",{className:"options-list",children:s&&s.map((e,s)=>(0,r.jsx)("div",{className:f,children:(0,r.jsxs)("li",{className:"options-list__item",children:[e.label,(0,r.jsx)(i(),{alt:"remove icon",htmlFor:"rm-icon",src:"/rm-icon-sm.svg",width:12,height:12,className:"options-list__image",onClick:()=>j(e)})]})},s))})]})]})}},8009:function(e,s,n){"use strict";var r=n(5893),t=n(150),a=n(6486),i=n.n(a),l=n(160),o=n(297),c=n(1248),d=n(7536),u=n(1163),h=n(5323),m=n(7533),p=n(3583),x=n(6890);s.Z=()=>{let{register:e,handleSubmit:s,formState:{errors:n}}=(0,d.cI)({resolver:(0,m.X)(p.fK)}),a=(0,c.I0)(),[f]=(0,x.l4)(),j=(0,u.useRouter)(),g=async(e,s)=>{s.preventDefault(),console.log(e);try{let s=await f({email:e.Login,password:e.Password}).unwrap();a((0,l.fv)(s)),console.log(s),j.push("/sign-up/otp")}catch(e){console.error("Registration failed:",e)}};return(0,r.jsxs)("div",{className:"login-container",children:[(0,r.jsxs)("div",{className:"text-container",children:[(0,r.jsx)("h1",{children:"Login Information"}),(0,r.jsx)("h4",{children:"Enter your login information then we will send you an E-Mail"})]}),(0,r.jsxs)("form",{className:"login-form",onSubmit:s(g),children:[(0,r.jsx)("div",{className:"login-form__element__mt",children:i().map(h.A_,s=>{let{label:t,name:a,placeholder:i}=s;return(0,r.jsx)(o.Z,{label:t,name:a,placeholder:i,errors:n,register:e})})}),(0,r.jsx)("div",{className:"btn-container",children:(0,r.jsx)(t.Z,{classname:"blue",type:"submit",children:"Next"})})]})]})}},6465:function(e,s,n){"use strict";var r=n(5893),t=n(5675),a=n.n(t),i=n(7294),l=n(5758);s.Z=()=>{let{data:e,refetch:s,isLoading:n,isError:t}=(0,l.jf)(null),[o,c]=(0,i.useState)();console.log(e),(0,i.useEffect)(()=>{e&&c(e.filename),!t&&e&&e.filename||c("/profile.svg")},[e,t]);let[d]=(0,l.QJ)(),u=async e=>{e.preventDefault();let n=new FileReader,r=e.target.files[0];n.onloadend=async()=>{c(n.result);let e=new FormData;e.append("profileImage",r),await d(e),s()},n.readAsDataURL(r)};return(0,r.jsx)("div",{className:"flex-photo",children:(0,r.jsxs)("label",{htmlFor:"photo-upload",className:"custom-file-upload",children:[(0,r.jsx)("div",{className:"img-wrap settings-page__header--img",children:n?(0,r.jsx)("div",{className:"settings-page__loader",children:(0,r.jsx)(a(),{alt:"loading",src:"/loading_spinner.svg",width:50,height:50})}):(0,r.jsx)(a(),{alt:"user avatar",htmlFor:"photo-upload",src:o,width:100,height:100,className:"custom-file-upload__cover"})}),(0,r.jsx)("input",{id:"photo-upload",name:"profileImage",type:"file",onChange:u})]})})}},3634:function(e,s,n){"use strict";n.d(s,{Z:function(){return j}});var r=n(5893),t=n(7294),a=n(6465),i=n(981),l=n(5323),o=n(7536),c=n(1248),d=n(4184),u=n.n(d),h=n(9805),m=n(4970),p=n(1163),x=()=>{let e=(0,c.v9)(e=>e.userInfo),[s,n]=(0,t.useState)(e.time),[d,x]=(0,t.useState)({label:e.activity});console.log("user info",s);let f=(0,c.I0)(),j=(0,p.useRouter)(),{register:g,handleSubmit:v,formState:{errors:b}}=(0,o.cI)({defaultValues:{firstName:e.name,dob:e.dob,heightFeet:e.feet,heightInch:e.inch}}),N=e=>{n(e.target.value)};return(0,r.jsx)("div",{children:(0,r.jsxs)("form",{className:"login-form mt-user-info",onSubmit:v(e=>{let n={activity:d.label,time:s,name:e.firstName,dob:e.dob,feet:e.heightFeet,inch:e.heightInch};f((0,m.MX)({details:n})),f((0,h.ig)(n)),j.push("/user-info/preferences")}),children:[(0,r.jsx)("div",{children:(0,r.jsx)(a.Z,{})}),(0,r.jsxs)("div",{className:"user-form-container",children:[(0,r.jsxs)("div",{className:"login-form__element flex1",children:[(0,r.jsx)("label",{className:u()({"error-label":b.firstName}),children:"Your Name:"}),(0,r.jsx)("input",{className:u()("styled-input info-input",{"error-border":b.firstName}),type:"name",name:"firstName",placeholder:"Anthony",...g("firstName",{required:!0})})]}),(0,r.jsxs)("div",{className:"login-form__element flex1",children:[(0,r.jsx)("label",{className:u()({"error-label":b.dob}),children:"DOB:"}),(0,r.jsx)("input",{className:u()("styled-input info-input",{"error-border":b.dob}),type:"date",name:"dob",placeholder:"12/18/2000",...g("dob",{required:!0})})]})]}),(0,r.jsxs)("div",{className:"user-form-container ",children:[(0,r.jsxs)("div",{className:"login-form__element flex1",children:[(0,r.jsx)("label",{className:u()({"error-label":b.heightFeet}),children:"Height:"}),(0,r.jsxs)("div",{className:"user-form-container height-container",children:[(0,r.jsx)("input",{className:u()("styled-input info-input height-input height-input__1",{"error-border":b.heightFeet}),type:"number",name:"heightFeet",placeholder:'6"',...g("heightFeet",{required:!0})}),(0,r.jsx)("input",{className:u()("styled-input info-input height-input height-input__2",{"error-border__inch":b.heightInch}),type:"number",name:"heightInch",placeholder:"2'",...g("heightInch",{required:!0})})]})]}),(0,r.jsxs)("div",{className:"login-form__element flex1",children:[(0,r.jsx)("label",{children:"Activity:"}),(0,r.jsx)(i.Z,{options:l.Q_,value:d,onChange:e=>{x(e)}})]})]}),(0,r.jsxs)("div",{className:"radio-element",children:[(0,r.jsx)("span",{className:"label-text text-center label-baldness-fix",children:"How much time are you usually spend in the kitchen?"}),(0,r.jsxs)("div",{className:"radio-container",children:[(0,r.jsx)("div",{className:"radio",children:(0,r.jsxs)("label",{className:"radio__label ",children:[(0,r.jsx)("input",{type:"radio",value:"Less",checked:"Less"===s,onChange:N,readOnly:!0}),"Less"]})}),(0,r.jsx)("div",{className:"radio",children:(0,r.jsxs)("label",{className:"radio__label",children:[(0,r.jsx)("input",{type:"radio",value:"Average",checked:"Average"===s,onChange:N,readOnly:!0}),"Average"]})}),(0,r.jsx)("div",{className:"radio",children:(0,r.jsxs)("label",{className:"radio__label",children:[(0,r.jsx)("input",{type:"radio",value:"More",checked:"More"===s,onChange:N,readOnly:!0}),"More"]})})]})]}),(0,r.jsx)("div",{className:"btn-container",children:(0,r.jsx)("button",{className:"btn btn__blue",type:"submit",children:"Next"})})]})})},f=n(6924),j=()=>{let e=(0,c.I0)();return(0,t.useEffect)(()=>{e((0,f.C)())},[]),(0,r.jsxs)("div",{className:"login-container",children:[(0,r.jsxs)("div",{className:"text-container",children:[(0,r.jsx)("h1",{children:"Let's Start!"}),(0,r.jsx)("h4",{children:"Introduce yourself"})]}),(0,r.jsx)("div",{className:"otp-field",children:(0,r.jsx)(x,{})})]})}},408:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return l}});var r=n(5893);n(6139),n(8009),n(2063),n(7294),n(3634),n(3776),n(6589),n(6729),n(2274),n(9592),n(7172);var t=n(8437),a=n(498);n(8553),n(5675);var i=()=>(0,r.jsxs)("div",{className:"app-container",children:[(0,r.jsx)("div",{className:"app-sidebar",children:(0,r.jsx)(t.Z,{})}),(0,r.jsx)("div",{className:"app-content",children:(0,r.jsx)(a.Z,{})})]});function l(){return(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(i,{})})}},3583:function(e,s,n){"use strict";n.d(s,{M8:function(){return a},fK:function(){return t},g0:function(){return i}});var r=n(6310);let t=r.Ry().shape({Login:r.Z_().required().email(),Password:r.Z_().required().min(8).matches(/^(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter and one number"),Password2:r.Z_().required().oneOf([r.iH("Password"),null],"Passwords must match")}),a=r.Ry().shape({Login:r.Z_().required().email(),Password:r.Z_().required().min(8).matches(/^(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter and one number")}),i=r.Ry().shape({Login:r.Z_().required().email()})}},function(e){e.O(0,[662,873,966,536,216,432,773,498,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);